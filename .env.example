# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
DEBUG=true

# Security (Local Development Only - Use Secret Manager in Production)
# In production, these are automatically loaded from Google Cloud Secret Manager
# To force local secrets: USE_LOCAL_SECRETS=true
JWT_SECRET=your-secret-key-here-change-in-production
API_KEYS=[{"key": "dev-key-123", "name": "default", "tier": "basic"}]

# CORS Configuration (comma-separated origins)
# In production: Specify exact origins (no wildcards)
# In development: Can use wildcard for local testing
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# GCP Configuration
GOOGLE_CLOUD_PROJECT=your-project-id
GCS_BUCKET=your-bucket-name

# Pub/Sub Subscriptions
PUBSUB_SUBSCRIPTION_UPSCALE=upscale-jobs-sub
PUBSUB_SUBSCRIPTION_ENHANCE=enhance-jobs-sub
PUBSUB_SUBSCRIPTION_COMIC=style-comic-jobs-sub
PUBSUB_SUBSCRIPTION_AGED=style-aged-jobs-sub
PUBSUB_SUBSCRIPTION_BACKGROUND_REMOVE=background-remove-jobs-sub

# Triton Inference Server
TRITON_URL=triton:8001
# For local development: TRITON_URL=localhost:8001

# Model Configuration (Legacy - used if running without Triton)
MODEL_CACHE_DIR=/models
DEVICE=cuda
TORCH_DTYPE=float16

# HuggingFace Cache (auto-configured from MODEL_CACHE_DIR)
# HF_HOME=/models/huggingface
# TRANSFORMERS_CACHE=/models/transformers

# Metrics
METRICS_PORT=9090

# OpenTelemetry Configuration
# Enable/disable distributed tracing
OTEL_ENABLED=true

# Service name (overridden automatically for workers: imagen-worker-{job_type})
OTEL_SERVICE_NAME=imagen-api

# OTLP endpoint for trace export
# Local (Jaeger): http://localhost:4317
# Production: Leave empty to use Google Cloud Trace
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# Export traces to console (debugging only)
OTEL_EXPORTER_CONSOLE=false

# Export to Google Cloud Trace (production only)
OTEL_EXPORTER_GCP_TRACE=false

# Sampling strategy (always_on, always_off, traceidratio, parentbased_always_on)
OTEL_TRACES_SAMPLER=parentbased_always_on

# Sampling ratio (0.0-1.0, only used with traceidratio sampler)
# OTEL_TRACES_SAMPLER_ARG=0.1

# Local Development (optional - for docker-compose)
REDIS_URL=redis://localhost:6379
MINIO_ENDPOINT=http://localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
